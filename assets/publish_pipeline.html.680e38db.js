import{r as t,o as l,c as i,a as s,e as a,F as r,b as e,d as o}from"./app.5b6d861f.js";import{_ as p}from"./plugin-vue_export-helper.21dcd24c.js";const c={},u=s("h1",{id:"publish-pipeline",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#publish-pipeline","aria-hidden":"true"},"#"),e(" Publish pipeline")],-1),d=e("The official "),b={href:"https://vuepress.vuejs.org/guide/deploy.html",target:"_blank",rel:"noopener noreferrer"},h=e("VuePress Guide"),g=e(" offers examples of how to deploy your VuePress web app to several hosting services. Deploying to GitHub Pages is fairly minimal."),m=e("Suppose you have a "),_={href:"https://docs.github.com/en/pages/getting-started-with-github-pages/creating-a-github-pages-site",target:"_blank",rel:"noopener noreferrer"},f=e("GitHub account and a remote repository ready"),v=e(' for your project/VuePress app called "hello-world". Then you can deploy your VuePress app by,'),k=o(`<li><p>Configuring the correct base URL where you would like to serve your app from, which can be done via the key <code>base</code> in the app&#39;s config file <code>docs/.vuepress/config.js</code>,</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>module.exports = <span class="token punctuation">{</span>
    ...

    base<span class="token operator">:</span> <span class="token string">&quot;/hello-world/&quot;</span><span class="token punctuation">,</span>
    
    ...
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>In the above the app is configured to be served from <code>https://&lt;github-username&gt;.github.io/hello-world/</code> when served from GitHub Pages, i.e. the project&#39;s repository. However, by default this is <code>&quot;/&quot;</code> and if you change it, you might want to consider to build the app via <code>npx vuepress build --dest docs/.vuepress/dist/hello-world docs</code> (e.g. for consistency).</p></li><li><p>Building a distribution of your VuePress app locally, via</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>npx vuepress build --dest docs/.vuepress/dist/hello-world docs
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>Deploying it by pushing the distribution to a specific branch on the remote repository, have the following content in a shell script <code>deploy.sh</code> and run <code>bash deploy.sh &lt;your-name&gt; &lt;your-repo&gt;</code>,</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/usr/bin/env bash</span>

<span class="token assign-left variable">GITHUB_USERNAME</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">\${1}</span>&quot;</span>
<span class="token assign-left variable">GITHUB_REPO</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">\${2}</span>&quot;</span>
<span class="token assign-left variable">GITHUB_PAGES_BRANCH</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">\${3<span class="token operator">:-</span>preview}</span>&quot;</span>
<span class="token assign-left variable">SOURCE_BRANCH</span><span class="token operator">=</span>main<span class="token operator">=</span><span class="token string">&quot;<span class="token variable">\${4<span class="token operator">:-</span>dev}</span>&quot;</span>

<span class="token comment"># abort on errors (e.g. no need for \`&amp;&amp;\`)</span>
<span class="token builtin class-name">set</span> -e 

<span class="token builtin class-name">cd</span> docs/.vuepress/dist/<span class="token variable">\${GITHUB_REPO}</span>
<span class="token function">touch</span> .nojekyll

<span class="token function">git</span> init
<span class="token function">git</span> <span class="token function">add</span> --all
<span class="token function">git</span> commit --message <span class="token string">&#39;deploy&#39;</span>

<span class="token function">git</span> push --force git@github.com:<span class="token variable">\${GITHUB_USERNAME}</span>/<span class="token variable">\${GITHUB_REPO}</span>.git <span class="token variable">\${SOURCE_BRANCH}</span><span class="token builtin class-name">:</span><span class="token variable">\${GITHUB_PAGES_BRANCH}</span>

<span class="token builtin class-name">cd</span> -

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li><li><p>Serving it via GitHub Pages, by</p><ol><li>logging in into your account,</li><li>navigating to the &quot;hello-world&quot; project&#39;s &quot;Settings&quot;,</li><li>clicking on &quot;Pages&quot; in the side bar on the left,</li><li>configuring your &quot;GitHub Pages&quot; source, by selecting the <code>GITHUB_PAGES_BRANCH</code> branch from the dropdown,</li><li>waiting for about 10min,</li><li>navigating in the browser to: <code>https://&lt;your-username&gt;/github.io/hello-world/</code></li></ol><p>Note, for free tiers, one can only have public GitHub Pages.</p></li>`,4),y=s("p",null,"Viewing the GitHub Pages' build deploy pipeline,",-1),w=s("ol",null,[s("li",null,"logging in into your account,"),s("li",null,`navigating to the "hello-world" project's "Actions",`),s("li",null,'clicking on a "workflow" run ("pages build and deployment"),')],-1),H=s("p",null,[e("Note, by default GitHub Pages' build stage in the workflow tries to build the sources with Jekyll (also a static site generator). Since one already relies on VuePress as a static site generator, and also because one has already build the sources locally, one can add the empy file "),s("code",null,".nojekyll"),e(", to not trigger this unnecessary build step in the build stage.")],-1),P=s("p",null,'In addition, remark that one can "off shore" building the VuePress app, e.g. via,',-1),q={href:"https://vuepress.vuejs.org/guide/deploy.html#github-pages-and-github-actions",target:"_blank",rel:"noopener noreferrer"},G=e("GitHub Actions"),x=e(","),B={href:"https://docs.microsoft.com/en-us/azure/static-web-apps/publish-vuepress",target:"_blank",rel:"noopener noreferrer"},E=e("Azure Static Web Apps"),U=o(`<h2 id="unpublishing" tabindex="-1"><a class="header-anchor" href="#unpublishing" aria-hidden="true">#</a> Unpublishing</h2><p>Unpublishing a GitHub Pages website can be done quite easy by switching the branch, under the &quot;Pages&quot; settings to <code>None</code>. This works, except for when one has a <code>gh-pages</code> branch in use. In addition one also has to delete the <code>gh-pages</code> branch, e.g.,</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> push --delete origin gh-pages
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div>`,3);function j(A,N){const n=t("ExternalLinkIcon");return l(),i(r,null,[u,s("p",null,[d,s("a",b,[h,a(n)]),g]),s("p",null,[m,s("a",_,[f,a(n)]),v]),s("ol",null,[k,s("li",null,[y,w,H,P,s("ul",null,[s("li",null,[s("a",q,[G,a(n)]),x]),s("li",null,[s("a",B,[E,a(n)])])])])]),U],64)}var S=p(c,[["render",j]]);export{S as default};
